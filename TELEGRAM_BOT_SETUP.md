# ü§ñ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram –±–æ—Ç–∞

## –ß—Ç–æ —É–º–µ–µ—Ç –±–æ—Ç

‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≥–æ—Ç–æ–≤—ã–µ –¥–æ–≥–æ–≤–æ—Ä–∞ —Å –æ–±–ª–æ–∂–∫–∞–º–∏
‚úÖ –£–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è–º–∏ —á–µ—Ä–µ–∑ —É–¥–æ–±–Ω–æ–µ –º–µ–Ω—é
‚úÖ –°–æ–∑–¥–∞–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –∏–∑ –≥–æ—Ç–æ–≤—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤
‚úÖ –î—É–±–ª–∏—Ä—É–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã–µ –¥–Ω–∏
‚úÖ –í–∫–ª—é—á–∞–µ—Ç/–≤—ã–∫–ª—é—á–∞–µ—Ç –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è

---

## –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç—å TELEGRAM_CHAT_ID

1. –û—Ç–∫—Ä–æ–π –±–æ—Ç–∞ [@userinfobot](https://t.me/userinfobot) –≤ Telegram
2. –ù–∞–∂–º–∏ `/start`
3. –°–∫–æ–ø–∏—Ä—É–π —á–∏—Å–ª–æ –∏–∑ —Å—Ç—Ä–æ–∫–∏ `Id: 123456789` - —ç—Ç–æ —Ç–≤–æ–π CHAT_ID
4. –î–æ–±–∞–≤—å —Å–µ–∫—Ä–µ—Ç –≤ –ø—Ä–æ–µ–∫—Ç:
   - –ò–º—è: `TELEGRAM_CHAT_ID`
   - –ó–Ω–∞—á–µ–Ω–∏–µ: —Ç–≤–æ–π ID (–Ω–∞–ø—Ä–∏–º–µ—Ä: `123456789`)

---

## –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å webhook –¥–ª—è –±–æ—Ç–∞

1. –û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–∑–∞–º–µ–Ω–∏ `YOUR_TOKEN` –Ω–∞ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞):

```
https://api.telegram.org/botYOUR_TOKEN/setWebhook?url=https://functions.poehali.dev/b0472937-6fce-4bcf-8b17-b2fa9e778632
```

2. –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è:
```json
{"ok":true,"result":true,"description":"Webhook was set"}
```

---

## –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π

–§—É–Ω–∫—Ü–∏—è `send-reminders` –¥–æ–ª–∂–Ω–∞ –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É —á–µ—Ä–µ–∑ cron –∏–ª–∏ –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å.

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å cron-job.org (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)**

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è –Ω–∞ https://cron-job.org
2. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π cronjob:
   - Title: `Send Reminders`
   - URL: `https://functions.poehali.dev/f3174375-4263-4d4b-ad83-4a5d72c5ee1f`
   - Schedule: `* * * * *` (–∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É)
   - Method: GET

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å UptimeRobot (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)**

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è –Ω–∞ https://uptimerobot.com
2. –°–æ–∑–¥–∞–π Monitor:
   - Monitor Type: HTTP(s)
   - Friendly Name: `Send Reminders`
   - URL: `https://functions.poehali.dev/f3174375-4263-4d4b-ad83-4a5d72c5ee1f`
   - Monitoring Interval: 1 minute

---

## –®–∞–≥ 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞

### –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

–û—Ç–ø—Ä–∞–≤—å `/start` –∏–ª–∏ `/menu` –≤ –±–æ—Ç–∞ - –ø–æ—è–≤–∏—Ç—Å—è –º–µ–Ω—é —Å –∫–Ω–æ–ø–∫–∞–º–∏:

- üìã **–ú–æ–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è** - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
- ‚ûï **–°–æ–∑–¥–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ** - —à–∞–±–ª–æ–Ω—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è
- üîî **–û –±–æ—Ç–µ** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

1. –ù–∞–∂–º–∏ "‚ûï –°–æ–∑–¥–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ"
2. –í—ã–±–µ—Ä–∏ —à–∞–±–ª–æ–Ω:
   - üíß –ü–æ–ø–µ–π –≤–æ–¥—ã
   - üíä –í—ã–ø–µ–π —Ç–∞–±–ª–µ—Ç–∫—É
   - üìñ –ü–æ—á–∏—Ç–∞–π –∫–Ω–∏–≥—É
   - üí™ –û—Ç–æ–∂–º–∏—Å—å
   - üßò –ú–µ–¥–∏—Ç–∞—Ü–∏—è
   - üö∂ –ü—Ä–æ–≥—É–ª–∫–∞

3. –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ —Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∏–ª–∏ –≤ —Å–ø–∏—Å–∫–µ –Ω–∞–∂–º–∏ –Ω–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ:

- üî¥ **–í—ã–∫–ª—é—á–∏—Ç—å** / üü¢ **–í–∫–ª—é—á–∏—Ç—å** - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- üìã **–î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å** - —Å–æ–∑–¥–∞—Ç—å –∫–æ–ø–∏—é –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- üóë **–£–¥–∞–ª–∏—Ç—å** - —É–¥–∞–ª–∏—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞

### –ü–æ–ª—É—á–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

–ë–æ—Ç –ø—Ä–∏—à–ª–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è —Å –∫–Ω–æ–ø–∫–∞–º–∏:

- ‚úÖ **–ì–æ—Ç–æ–≤–æ** - –ø–æ–º–µ—Ç–∏—Ç—å –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ
- ‚è∞ **–ù–∞–ø–æ–º–Ω–∏—Ç—å –ø–æ–∑–∂–µ** - –æ—Ç–ª–æ–∂–∏—Ç—å –Ω–∞ 15 –º–∏–Ω—É—Ç

---

## –§—É–Ω–∫—Ü–∏–∏ –±—ç–∫–µ–Ω–¥–∞

### 1. telegram-bot
**URL**: `https://functions.poehali.dev/b0472937-6fce-4bcf-8b17-b2fa9e778632`

Webhook –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ –∫–Ω–æ–ø–æ–∫ –±–æ—Ç–∞.

### 2. send-reminders
**URL**: `https://functions.poehali.dev/f3174375-4263-4d4b-ad83-4a5d72c5ee1f`

–û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è cron –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É).

### 3. generate-contract
**URL**: `https://functions.poehali.dev/74c4ea92-6ade-4ffd-941c-c83f543fbfe5`

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–≥–æ–≤–æ—Ä–æ–≤ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram.

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

### –¢–∞–±–ª–∏—Ü–∞ `reminders`

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | SERIAL | ID –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è |
| user_id | BIGINT | Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| title | VARCHAR | –ù–∞–∑–≤–∞–Ω–∏–µ (–ü–æ–ø–µ–π –≤–æ–¥—ã) |
| description | TEXT | –û–ø–∏—Å–∞–Ω–∏–µ |
| reminder_time | TIME | –í—Ä–µ–º—è (10:00) |
| days_of_week | INTEGER[] | –î–Ω–∏ –Ω–µ–¥–µ–ª–∏ [1,2,3,4,5,6,7] |
| is_active | BOOLEAN | –ê–∫—Ç–∏–≤–Ω–æ –ª–∏ |
| created_at | TIMESTAMP | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |
| updated_at | TIMESTAMP | –î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è |

**–î–Ω–∏ –Ω–µ–¥–µ–ª–∏**: 1=–ü–Ω, 2=–í—Ç, 3=–°—Ä, 4=–ß—Ç, 5=–ü—Ç, 6=–°–±, 7=–í—Å

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω–∞ –±—É–¥–Ω–∏

```sql
INSERT INTO reminders (user_id, title, reminder_time, days_of_week)
VALUES (123456789, 'üíº –†–∞–±–æ—á–∏–π –¥–µ–Ω—å', '09:00', ARRAY[1,2,3,4,5]);
```

### –°–æ–∑–¥–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω–∞ –≤—ã—Ö–æ–¥–Ω—ã–µ

```sql
INSERT INTO reminders (user_id, title, reminder_time, days_of_week)
VALUES (123456789, 'üéÆ –í—Ä–µ–º—è –æ—Ç–¥—ã—Ö–∞', '12:00', ARRAY[6,7]);
```

---

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

‚ùå **–ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã**
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å —Å–µ–∫—Ä–µ—Ç TELEGRAM_BOT_TOKEN

‚ùå **–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç**
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ cron –∑–∞–ø—É—â–µ–Ω –∏ –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ (is_active = true)
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ –≤ –º–∞—Å—Å–∏–≤–µ days_of_week

‚ùå **–î–æ–≥–æ–≤–æ—Ä–∞ –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç**
- –ü—Ä–æ–≤–µ—Ä—å —Å–µ–∫—Ä–µ—Ç TELEGRAM_CHAT_ID
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —à–∞–±–ª–æ–Ω –∑–∞–≥—Ä—É–∂–µ–Ω —á–µ—Ä–µ–∑ /434
- –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ —Ñ—É–Ω–∫—Ü–∏–∏ generate-contract

---

–ì–æ—Ç–æ–≤–æ! –¢–≤–æ–π –±–æ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω! üöÄ
